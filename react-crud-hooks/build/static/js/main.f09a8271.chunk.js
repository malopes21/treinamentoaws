(this["webpackJsonpreact-crud-hooks"]=this["webpackJsonpreact-crud-hooks"]||[]).push([[0],{12:function(e,t,n){},13:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n(5),r=n.n(s),j=n(4),i=n(3),d=n(1);var a=()=>Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("nav",{children:Object(d.jsxs)("ul",{children:[Object(d.jsx)("li",{children:Object(d.jsx)(j.b,{to:"/",children:"Home"})}),Object(d.jsx)("li",{children:Object(d.jsx)(j.b,{to:"/users",children:"Users"})}),Object(d.jsx)("li",{children:Object(d.jsx)(j.b,{to:"/products",children:"Products"})})]})}),Object(d.jsx)(i.a,{})]});var l=function(e){const t={id:null,name:"",username:""},[n,s]=Object(c.useState)(t);function r(e){const{name:t,value:c}=e.target;s({...n,[t]:c})}return Object(d.jsxs)("form",{onSubmit:c=>{c.preventDefault(),n.name&&n.username&&(e.addUser(n),s(t))},children:[Object(d.jsx)("label",{children:"Name"}),Object(d.jsx)("input",{type:"text",name:"name",value:n.name,onChange:r}),Object(d.jsx)("label",{children:"Username"}),Object(d.jsx)("input",{type:"text",name:"username",value:n.username,onChange:r}),Object(d.jsx)("button",{children:"Add new user"})]})};var u=function(e){return Object(d.jsxs)("table",{children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"Name"}),Object(d.jsx)("th",{children:"Username"}),Object(d.jsx)("th",{children:"Actions"})]})}),Object(d.jsx)("tbody",{children:e.users.length>0?e.users.map((t=>Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:t.name}),Object(d.jsx)("td",{children:t.username}),Object(d.jsxs)("td",{children:[Object(d.jsx)("button",{onClick:()=>{e.editRow(t)},className:"button muted-button",children:"Edit"}),Object(d.jsx)("button",{onClick:()=>e.deleteUser(t.id),className:"button muted-button",children:"Delete"})]})]},t.id))):Object(d.jsx)("tr",{children:Object(d.jsx)("td",{colSpan:3,children:"No users"})})})]})};var o=function(e){const[t,n]=Object(c.useState)(e.currentUser),s=e=>{const{name:c,value:s}=e.target;n({...t,[c]:s})};return Object(c.useEffect)((()=>{n(e.currentUser)}),[e]),Object(d.jsxs)("form",{onSubmit:n=>{n.preventDefault(),e.updateUser(t.id,t)},children:[Object(d.jsx)("label",{children:"Name"}),Object(d.jsx)("input",{type:"text",name:"name",value:t.name,onChange:s}),Object(d.jsx)("label",{children:"Username"}),Object(d.jsx)("input",{type:"text",name:"username",value:t.username,onChange:s}),Object(d.jsx)("button",{children:"Update user"}),Object(d.jsx)("button",{onClick:()=>e.setEditing(!1),className:"button muted-button",children:"Cancel"})]})};var b=function(){const e="http://localhost:8080/users/",[t,n]=Object(c.useState)([]),[s,r]=Object(c.useState)(!1),[j,i]=Object(c.useState)({id:null,name:"",username:""});return Object(c.useEffect)((()=>{a()}),[]),Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)("h1",{children:"Users"}),Object(d.jsxs)("div",{className:"flex-row",children:[Object(d.jsx)("div",{className:"flex-large",children:s?Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{children:"Edit user"}),Object(d.jsx)(o,{setEditing:r,currentUser:j,updateUser:function t(n,c){r(!1),t.id=n,async function(t){fetch(e+t.id,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"PUT",body:JSON.stringify(t)}).then((e=>{i(t),a()}))}(c)}})]}):Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{children:"Add user"}),Object(d.jsx)(l,{addUser:function(t){!async function(t){fetch(e,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(t)}).then((e=>{a()}))}(t)}})]})}),Object(d.jsxs)("div",{className:"flex-large",children:[Object(d.jsx)("h2",{children:"View users"}),Object(d.jsx)(u,{users:t,deleteUser:function(t){!async function(t){fetch(e+t,{method:"DELETE"}).then((e=>{a()}))}(t)},editRow:function(e){r(!0),i({id:e.id,name:e.name,username:e.username})}})]})]})]});async function a(){fetch(e).then((e=>e.json())).then((e=>{n(e)}))}};var h=function(e){const t={id:null,name:"",price:0},[n,s]=Object(c.useState)(t);function r(e){const{name:t,value:c}=e.target;s({...n,[t]:c})}return Object(d.jsxs)("form",{onSubmit:c=>{c.preventDefault(),n.name&&n.price&&(e.addProduct(n),s(t))},children:[Object(d.jsx)("label",{children:"Name"}),Object(d.jsx)("input",{type:"text",name:"name",value:n.name,onChange:r}),Object(d.jsx)("label",{children:"Price"}),Object(d.jsx)("input",{type:"number",name:"price",value:n.price,onChange:r}),Object(d.jsx)("button",{children:"Add new product"})]})};var O=function(e){return Object(d.jsxs)("table",{children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"Name"}),Object(d.jsx)("th",{children:"Price"}),Object(d.jsx)("th",{children:"Actions"})]})}),Object(d.jsx)("tbody",{children:e.products.length>0?e.products.map((t=>Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:t.name}),Object(d.jsx)("td",{children:t.price}),Object(d.jsxs)("td",{children:[Object(d.jsx)("button",{onClick:()=>{e.editRow(t)},className:"button muted-button",children:"Edit"}),Object(d.jsx)("button",{onClick:()=>e.deleteProduct(t.id),className:"button muted-button",children:"Delete"})]})]},t.id))):Object(d.jsx)("tr",{children:Object(d.jsx)("td",{colSpan:3,children:"No products"})})})]})};var x=function(e){const[t,n]=Object(c.useState)(e.currentProduct),s=e=>{const{name:c,value:s}=e.target;n({...t,[c]:s})};return Object(c.useEffect)((()=>{n(e.currentProduct)}),[e]),Object(d.jsxs)("form",{onSubmit:n=>{n.preventDefault(),e.updateProduct(t.id,t)},children:[Object(d.jsx)("label",{children:"Name"}),Object(d.jsx)("input",{type:"text",name:"name",value:t.name,onChange:s}),Object(d.jsx)("label",{children:"Price"}),Object(d.jsx)("input",{type:"number",name:"price",value:t.price,onChange:s}),Object(d.jsx)("button",{children:"Update product"}),Object(d.jsx)("button",{onClick:()=>e.setEditing(!1),className:"button muted-button",children:"Cancel"})]})};var m=function(){const e="http://localhost:8080/products/",[t,n]=Object(c.useState)([]),[s,r]=Object(c.useState)(!1),[j,i]=Object(c.useState)({id:null,name:"",price:0});return Object(c.useEffect)((()=>{a()}),[]),Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)("h1",{children:"Products"}),Object(d.jsxs)("div",{className:"flex-row",children:[Object(d.jsx)("div",{className:"flex-large",children:s?Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{children:"Edit product"}),Object(d.jsx)(x,{setEditing:r,currentProduct:j,updateProduct:function(t,n){r(!1),n.id=t,async function(t){fetch(e+t.id,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"PUT",body:JSON.stringify(t)}).then((e=>{i(t),a()}))}(n)}})]}):Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{children:"Add product"}),Object(d.jsx)(h,{addProduct:function(t){!async function(t){fetch(e,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(t)}).then((e=>{a()}))}(t)}})]})}),Object(d.jsxs)("div",{className:"flex-large",children:[Object(d.jsx)("h2",{children:"View products"}),Object(d.jsx)(O,{products:t,deleteProduct:function(t){!async function(t){fetch(e+t,{method:"DELETE"}).then((e=>{a()}))}(t)},editRow:function(e){r(!0),i({id:e.id,name:e.name,price:e.price})}})]})]})]});async function a(){fetch(e).then((e=>e.json())).then((e=>{n(e)}))}};var p=function(){return Object(d.jsx)(j.a,{children:Object(d.jsx)(i.d,{children:Object(d.jsxs)(i.b,{path:"/",element:Object(d.jsx)(a,{}),children:[Object(d.jsx)(i.b,{path:"users",element:Object(d.jsx)(b,{})}),Object(d.jsx)(i.b,{path:"products",element:Object(d.jsx)(m,{})})]})})})};n(12);r.a.render(Object(d.jsx)(p,{}),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.f09a8271.chunk.js.map